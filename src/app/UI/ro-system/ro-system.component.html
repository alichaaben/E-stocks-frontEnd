<div>
    <!-- Header -->
    <div class="flex items-center justify-between mb-10">
        <div>
            <h1 class="text-2xl font-bold">RO System Dashboard</h1>
            <p class="text-sm text-gray-500">Monitor and control your reverse osmosis system</p>
        </div>
        <!-- New Button Design -->
        <button class="power-button bg-white dark:bg-[#050b2d]" [ngClass]="{'active': isRunning}" (click)="handlePowerToggle()" aria-label="Power toggle button">
            <div class="power-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
                    <line x1="12" y1="2" x2="12" y2="12"></line>
                </svg>
            </div>
            <span class="status-text">{{ isRunning ? 'STOP' : 'START' }}</span>
        </button>
    </div>



    <!-- Confirmation Modal -->
    <div *ngIf="showConfirmation" class="modal-overlay">
        <!-- Modal container -->
        <div class="modal-container">
            <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 ">
                <div class="sm:flex sm:items-start">
                    <!-- Icon -->
                    <div
                        class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:size-10">
                        <svg class="size-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                            stroke="currentColor" aria-hidden="true" data-slot="icon">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
                        </svg>
                    </div>

                    <!-- Modal content -->
                    <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
                        <h3 class="text-base font-semibold text-gray-900" id="modal-title">
                            {{ isRunning ? 'Stop System' : 'Start System' }}
                        </h3>
                        <div class="mt-2">
                            <p class="text-sm text-gray-500">
                                Are you sure you want to {{ isRunning ? 'stop' : 'start' }} the RO system?
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal buttons -->
            <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                <button type="button"
                    class="inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-red-500 sm:ml-3 sm:w-auto"
                    (click)="confirmPowerChange()">
                    Confirm
                </button>
                <button type="button"
                    class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 ring-1 shadow-xs ring-gray-300 ring-inset hover:bg-gray-50 sm:mt-0 sm:w-auto"
                    (click)="closeConfirmation()">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    



<!-- Rest of the dashboard content -->
<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4 mb-5">
    <!-- System Status Card -->
    <div class="relative rounded-lg bg-gradient-to-r from-[#172843] to-[#3a6073] p-4 overflow-hidden">

        <div class="flex items-center justify-between">
            <h2 class="text-sm font-medium text-white">System Status</h2>
            <span>‚ö°</span>
        </div>
        <div class="mt-2">
            <p [ngClass]="isRunning ? 'text-center text-green-500 text-2xl font-bold rounded-lg  animate-glow' : 'text-red-500 text-2xl font-bold'">
                {{ isRunning ? 'Running' : 'Stopped' }}
            </p>
            <p class="text-xs text-gray-500">Last updated: {{ getCurrentTime() }}</p>
        </div>
    </div>



        <!-- Filter Status Card -->
        <div class="rounded-lg  bg-gradient-to-r from-[#ff9a08] to-[#ffb449]  p-4">
            <div class="flex items-center justify-between">
                <h2 class="text-sm font-medium text-white">Filter Status</h2>
                <span class="text-yellow-500 text-2xl">üõ†Ô∏è</span>
            </div>
            <div class="mt-2">
                <p class="text-2xl font-bold text-white">85%</p>
                <!-- <div class="h-2 bg-gray-200 rounded-full mt-2">
                    <div class="h-full bg-yellow-500 rounded-full" style="width: 85%"></div>
                </div> -->
                <p class="text-xs text-gray-500 mt-1">Filter change due in 15 days</p>
            </div>
        </div>



        <!-- TDS Level Card -->
        <div class="rounded-lg  bg-gradient-to-r from-[#052659] to-[#3a7bd5] p-4">
            <div class="flex items-center justify-between">
                <h2 class="text-sm font-medium text-white">TDS Level</h2>
                <span class="text-blue-500 text-2xl">üíß</span>
            </div>
            <div class="mt-2">
                <p class="text-2xl font-bold text-white">45 PPM</p>
                <div class="h-2 bg-gray-200 rounded-full mt-2">
                    <div class="h-full bg-blue-500 rounded-full" style="width: 45%"></div>
                </div>
            </div>
        </div>

        <!-- Membrane Life Card -->
        <div class="rounded-lg  p-4 bg-gradient-to-r from-[#048c4b] to-[#16b293]">
            <div class="flex items-center justify-between">
                <h2 class="text-sm font-medium text-white">Membrane Life</h2>
                <span class="text-green-500 text-2xl">üîã</span>
            </div>
            <div class="mt-2">
                <p class="text-2xl font-bold text-white">92%</p>
                <div class="h-2 bg-gray-200 rounded-full mt-2">
                    <div class="h-full bg-green-800 rounded-full" style="width: 92%"></div>
                </div>
            </div>
        </div>
    </div>

    

    <!-- Charts -->
    <div class="grid gap-6 md:grid-cols-2 mb-5">
        <!-- Water Quality Trends -->
        <div class="rounded-lg border bg-white p-4  dark:bg-[#222b45]  dark:border-gray-600">
            <h2 class="text-lg font-bold">Water Quality Trends</h2>
            <p class="text-sm text-gray-500">TDS and pH levels over time</p>
            <div class="mt-4">
                <!-- Placeholder for Water Quality Chart -->
                <div class="h-64 bg-gray-100 rounded-lg dark:bg-gray-500"></div>
            </div>
        </div>

        <!-- System Pressure -->
        <div class="rounded-lg border bg-white p-4  dark:bg-[#222b45]  dark:border-gray-600">
            <h2 class="text-lg font-bold">System Pressure</h2>
            <p class="text-sm text-gray-500">Inlet and outlet pressure readings</p>
            <div class="mt-4">
                <!-- Placeholder for Pressure Chart -->
                <div class="h-64 bg-gray-100 rounded-lg dark:bg-gray-500"></div>
            </div>
        </div>
    </div>

    <!-- Invoices and Alerts -->
    <div class="grid gap-6 md:grid-cols-3 mb-5">
        <!-- Recent Invoices -->
        <div class="rounded-lg border bg-white p-4 md:col-span-2  dark:bg-[#222b45]  dark:border-gray-600">
            <div class="flex items-center justify-between">
                <div>
                    <h2 class="text-lg font-bold">Recent Invoices</h2>
                    <p class="text-sm text-gray-500">Manage your maintenance and service invoices</p>
                </div>
                <button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
                    <span class="mr-2 text-2xl">üì§</span>
                    Upload Invoice
                </button>
            </div>
            <div class="mt-4">
                <!-- Placeholder for Invoice List -->
                <div class="h-64 bg-gray-100 rounded-lg dark:bg-gray-500"></div>
            </div>
        </div>

        <!-- System Alerts -->
        <div class="rounded-lg border bg-white p-4  dark:bg-[#222b45]  dark:border-gray-600">
            <h2 class="text-lg font-bold">System Alerts</h2>
            <p class="text-sm text-gray-500">Recent notifications and warnings</p>
            <div class="mt-4 space-y-4">
                <!-- High Pressure Warning -->
                <div class="p-4 bg-red-500 rounded-lg">
                    <div class="flex items-center gap-2">
                        <span class="text-red-500 text-2xl">‚ö†Ô∏è</span>
                        <div>
                            <p class="font-medium text-white">High Pressure Warning</p>
                            <p class="text-sm text-white">System pressure exceeds normal range. Check for blockages.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Maintenance Due -->
                <div class="p-4 bg-yellow-500 rounded-lg">
                    <div class="flex items-center gap-2">
                        <span class="text-yellow-500 text-2xl">üõ†Ô∏è</span>
                        <div>
                            <p class="font-medium text-white">Maintenance Due</p>
                            <p class="text-sm text-white">Scheduled maintenance is due in 5 days.</p>
                        </div>
                    </div>
                </div>

                <!-- Invoice Payment -->
                <div class="p-4 bg-blue-500 rounded-lg">
                    <div class="flex items-center gap-2">
                        <span class="text-blue-500 text-2xl">üìÑ</span>
                        <div>
                            <p class="font-medium text-white">Invoice Payment</p>
                            <p class="text-sm text-white">Recent maintenance invoice pending payment.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--------------------------- test ------------->

